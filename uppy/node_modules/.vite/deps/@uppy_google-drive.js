import {
  ProviderView
} from "./chunk-O5JLI24S.js";
import {
  UIPlugin_default,
  y
} from "./chunk-T2SQCIH5.js";
import "./chunk-HNIHZSAY.js";
import {
  Provider
} from "./chunk-7MJASB4X.js";
import "./chunk-LRULGENU.js";

// node_modules/@uppy/google-drive/lib/DriveProviderViews.js
var DriveProviderViews = class extends ProviderView {
  toggleCheckbox(e, file) {
    e.stopPropagation();
    e.preventDefault();
    if (!file.custom.isSharedDrive) {
      super.toggleCheckbox(e, file);
    }
  }
};

// node_modules/@uppy/google-drive/lib/locale.js
var locale_default = {
  strings: {
    pluginNameGoogleDrive: "Google Drive"
  }
};

// node_modules/@uppy/google-drive/lib/GoogleDrive.js
var packageJson = {
  "version": "3.2.1"
};
var GoogleDrive = class extends UIPlugin_default {
  constructor(uppy, opts) {
    super(uppy, opts);
    this.id = this.opts.id || "GoogleDrive";
    this.title = this.opts.title || "Google Drive";
    Provider.initPlugin(this, opts);
    this.title = this.opts.title || "Google Drive";
    this.icon = () => y("svg", {
      "aria-hidden": "true",
      focusable: "false",
      width: "32",
      height: "32",
      viewBox: "0 0 32 32"
    }, y("g", {
      fillRule: "nonzero",
      fill: "none"
    }, y("path", {
      d: "M6.663 22.284l.97 1.62c.202.34.492.609.832.804l3.465-5.798H5c0 .378.1.755.302 1.096l1.361 2.278z",
      fill: "#0066DA"
    }), y("path", {
      d: "M16 12.09l-3.465-5.798c-.34.195-.63.463-.832.804l-6.4 10.718A2.15 2.15 0 005 18.91h6.93L16 12.09z",
      fill: "#00AC47"
    }), y("path", {
      d: "M23.535 24.708c.34-.195.63-.463.832-.804l.403-.67 1.928-3.228c.201-.34.302-.718.302-1.096h-6.93l1.474 2.802 1.991 2.996z",
      fill: "#EA4335"
    }), y("path", {
      d: "M16 12.09l3.465-5.798A2.274 2.274 0 0018.331 6h-4.662c-.403 0-.794.11-1.134.292L16 12.09z",
      fill: "#00832D"
    }), y("path", {
      d: "M20.07 18.91h-8.14l-3.465 5.798c.34.195.73.292 1.134.292h12.802c.403 0 .794-.11 1.134-.292L20.07 18.91z",
      fill: "#2684FC"
    }), y("path", {
      d: "M23.497 12.455l-3.2-5.359a2.252 2.252 0 00-.832-.804L16 12.09l4.07 6.82h6.917c0-.377-.1-.755-.302-1.096l-3.188-5.359z",
      fill: "#FFBA00"
    })));
    this.provider = new Provider(uppy, {
      companionUrl: this.opts.companionUrl,
      companionHeaders: this.opts.companionHeaders,
      companionKeysParams: this.opts.companionKeysParams,
      companionCookiesRule: this.opts.companionCookiesRule,
      provider: "drive",
      pluginId: this.id
    });
    this.defaultLocale = locale_default;
    this.i18nInit();
    this.title = this.i18n("pluginNameGoogleDrive");
    this.onFirstRender = this.onFirstRender.bind(this);
    this.render = this.render.bind(this);
  }
  install() {
    this.view = new DriveProviderViews(this, {
      provider: this.provider,
      loadAllFiles: true
    });
    const {
      target
    } = this.opts;
    if (target) {
      this.mount(target, this);
    }
  }
  uninstall() {
    this.view.tearDown();
    this.unmount();
  }
  onFirstRender() {
    return Promise.all([this.provider.fetchPreAuthToken(), this.view.getFolder("root")]);
  }
  render(state) {
    return this.view.render(state);
  }
};
GoogleDrive.VERSION = packageJson.version;
export {
  GoogleDrive as default
};
//# sourceMappingURL=@uppy_google-drive.js.map
