{
  "version": 3,
  "sources": ["../../@transloadit/prettier-bytes/prettierBytes.js", "../../wildcard/index.js", "../../mime-match/index.js", "../../@uppy/core/lib/Uppy.js", "../../@uppy/store-default/lib/index.js", "../../@uppy/utils/lib/getFileNameAndExtension.js", "../../@uppy/utils/lib/mimeTypes.js", "../../@uppy/utils/lib/getFileType.js", "../../@uppy/utils/lib/generateFileID.js", "../../@uppy/core/lib/supportsUploadProgress.js", "../../@uppy/core/lib/getFileName.js", "../../@uppy/utils/lib/getTimeStamp.js", "../../@uppy/core/lib/loggers.js", "../../@uppy/core/lib/Restricter.js", "../../@uppy/core/lib/locale.js", "../../preact/src/util.js", "../../preact/src/options.js", "../../preact/src/create-element.js", "../../preact/src/component.js", "../../preact/src/create-context.js", "../../preact/src/constants.js", "../../preact/src/diff/children.js", "../../preact/src/diff/props.js", "../../preact/src/diff/index.js", "../../preact/src/render.js", "../../preact/src/clone-element.js", "../../preact/src/diff/catch-error.js", "../../@uppy/utils/lib/isDOMElement.js", "../../@uppy/utils/lib/findDOMElement.js", "../../@uppy/utils/lib/getTextDirection.js", "../../@uppy/core/lib/UIPlugin.js"],
  "sourcesContent": ["// Adapted from https://github.com/Flet/prettier-bytes/\n// Changing 1000 bytes to 1024, so we can keep uppercase KB vs kB\n// ISC License (c) Dan Flettre https://github.com/Flet/prettier-bytes/blob/master/LICENSE\nmodule.exports = function prettierBytes (num) {\n  if (typeof num !== 'number' || isNaN(num)) {\n    throw new TypeError(`Expected a number, got ${typeof num}`)\n  }\n\n  const neg = num < 0\n  const units = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n\n  if (neg) {\n    num = -num\n  }\n\n  if (num < 1) {\n    return `${(neg ? '-' : '') + num} B`\n  }\n\n  const exponent = Math.min(Math.floor(Math.log(num) / Math.log(1024)), units.length - 1)\n  num = Number(num / Math.pow(1024, exponent))\n  const unit = units[exponent]\n\n  if (num >= 10 || num % 1 === 0) {\n    // Do not show decimals when the number is two-digit, or if the number has no\n    // decimal component.\n    return `${(neg ? '-' : '') + num.toFixed(0)} ${unit}`\n  }\n  return `${(neg ? '-' : '') + num.toFixed(1)} ${unit}`\n}\n", "/* jshint node: true */\n'use strict';\n\n/**\n  # wildcard\n\n  Very simple wildcard matching, which is designed to provide the same\n  functionality that is found in the\n  [eve](https://github.com/adobe-webplatform/eve) eventing library.\n\n  ## Usage\n\n  It works with strings:\n\n  <<< examples/strings.js\n\n  Arrays:\n\n  <<< examples/arrays.js\n\n  Objects (matching against keys):\n\n  <<< examples/objects.js\n\n  While the library works in Node, if you are are looking for file-based\n  wildcard matching then you should have a look at:\n\n  <https://github.com/isaacs/node-glob>\n**/\n\nfunction WildcardMatcher(text, separator) {\n  this.text = text = text || '';\n  this.hasWild = ~text.indexOf('*');\n  this.separator = separator;\n  this.parts = text.split(separator);\n}\n\nWildcardMatcher.prototype.match = function(input) {\n  var matches = true;\n  var parts = this.parts;\n  var ii;\n  var partsCount = parts.length;\n  var testParts;\n\n  if (typeof input == 'string' || input instanceof String) {\n    if (!this.hasWild && this.text != input) {\n      matches = false;\n    } else {\n      testParts = (input || '').split(this.separator);\n      for (ii = 0; matches && ii < partsCount; ii++) {\n        if (parts[ii] === '*')  {\n          continue;\n        } else if (ii < testParts.length) {\n          matches = parts[ii] === testParts[ii];\n        } else {\n          matches = false;\n        }\n      }\n\n      // If matches, then return the component parts\n      matches = matches && testParts;\n    }\n  }\n  else if (typeof input.splice == 'function') {\n    matches = [];\n\n    for (ii = input.length; ii--; ) {\n      if (this.match(input[ii])) {\n        matches[matches.length] = input[ii];\n      }\n    }\n  }\n  else if (typeof input == 'object') {\n    matches = {};\n\n    for (var key in input) {\n      if (this.match(key)) {\n        matches[key] = input[key];\n      }\n    }\n  }\n\n  return matches;\n};\n\nmodule.exports = function(text, test, separator) {\n  var matcher = new WildcardMatcher(text, separator || /[\\/\\.]/);\n  if (typeof test != 'undefined') {\n    return matcher.match(test);\n  }\n\n  return matcher;\n};\n", "var wildcard = require('wildcard');\nvar reMimePartSplit = /[\\/\\+\\.]/;\n\n/**\n  # mime-match\n\n  A simple function to checker whether a target mime type matches a mime-type\n  pattern (e.g. image/jpeg matches image/jpeg OR image/*).\n\n  ## Example Usage\n\n  <<< example.js\n\n**/\nmodule.exports = function(target, pattern) {\n  function test(pattern) {\n    var result = wildcard(pattern, target, reMimePartSplit);\n\n    // ensure that we have a valid mime type (should have two parts)\n    return result && result.length >= 2;\n  }\n\n  return pattern ? test(pattern.split(';')[0]) : test;\n};\n", "let _Symbol$for, _Symbol$for2;\nfunction _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n/* eslint-disable max-classes-per-file */\n/* global AggregateError */\n\nimport Translator from '@uppy/utils/lib/Translator';\nimport ee from 'namespace-emitter';\nimport { nanoid } from 'nanoid/non-secure';\nimport throttle from 'lodash/throttle.js';\nimport DefaultStore from '@uppy/store-default';\nimport getFileType from '@uppy/utils/lib/getFileType';\nimport getFileNameAndExtension from '@uppy/utils/lib/getFileNameAndExtension';\nimport { getSafeFileId } from '@uppy/utils/lib/generateFileID';\nimport supportsUploadProgress from './supportsUploadProgress.js';\nimport getFileName from './getFileName.js';\nimport { justErrorsLogger, debugLogger } from './loggers.js';\nimport { Restricter, defaultOptions as defaultRestrictionOptions, RestrictionError } from './Restricter.js';\nconst packageJson = {\n  \"version\": \"3.4.0\"\n};\nimport locale from './locale.js';\n\n/**\n * Uppy Core module.\n * Manages plugins, state updates, acts as an event bus,\n * adds/removes files and metadata.\n */\nvar _plugins = /*#__PURE__*/_classPrivateFieldLooseKey(\"plugins\");\nvar _restricter = /*#__PURE__*/_classPrivateFieldLooseKey(\"restricter\");\nvar _storeUnsubscribe = /*#__PURE__*/_classPrivateFieldLooseKey(\"storeUnsubscribe\");\nvar _emitter = /*#__PURE__*/_classPrivateFieldLooseKey(\"emitter\");\nvar _preProcessors = /*#__PURE__*/_classPrivateFieldLooseKey(\"preProcessors\");\nvar _uploaders = /*#__PURE__*/_classPrivateFieldLooseKey(\"uploaders\");\nvar _postProcessors = /*#__PURE__*/_classPrivateFieldLooseKey(\"postProcessors\");\nvar _informAndEmit = /*#__PURE__*/_classPrivateFieldLooseKey(\"informAndEmit\");\nvar _checkRequiredMetaFieldsOnFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkRequiredMetaFieldsOnFile\");\nvar _checkRequiredMetaFields = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkRequiredMetaFields\");\nvar _assertNewUploadAllowed = /*#__PURE__*/_classPrivateFieldLooseKey(\"assertNewUploadAllowed\");\nvar _transformFile = /*#__PURE__*/_classPrivateFieldLooseKey(\"transformFile\");\nvar _startIfAutoProceed = /*#__PURE__*/_classPrivateFieldLooseKey(\"startIfAutoProceed\");\nvar _checkAndUpdateFileState = /*#__PURE__*/_classPrivateFieldLooseKey(\"checkAndUpdateFileState\");\nvar _addListeners = /*#__PURE__*/_classPrivateFieldLooseKey(\"addListeners\");\nvar _updateOnlineStatus = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateOnlineStatus\");\nvar _createUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"createUpload\");\nvar _getUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"getUpload\");\nvar _removeUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"removeUpload\");\nvar _runUpload = /*#__PURE__*/_classPrivateFieldLooseKey(\"runUpload\");\n_Symbol$for = Symbol.for('uppy test: getPlugins');\n_Symbol$for2 = Symbol.for('uppy test: createUpload');\nclass Uppy {\n  /**\n   * Instantiate Uppy\n   *\n   * @param {object} opts â€” Uppy options\n   */\n  constructor(_opts) {\n    /**\n     * Run an upload. This picks up where it left off in case the upload is being restored.\n     *\n     * @private\n     */\n    Object.defineProperty(this, _runUpload, {\n      value: _runUpload2\n    });\n    /**\n     * Remove an upload, eg. if it has been canceled or completed.\n     *\n     * @param {string} uploadID The ID of the upload.\n     */\n    Object.defineProperty(this, _removeUpload, {\n      value: _removeUpload2\n    });\n    Object.defineProperty(this, _getUpload, {\n      value: _getUpload2\n    });\n    /**\n     * Create an upload for a bunch of files.\n     *\n     * @param {Array<string>} fileIDs File IDs to include in this upload.\n     * @returns {string} ID of this upload.\n     */\n    Object.defineProperty(this, _createUpload, {\n      value: _createUpload2\n    });\n    /**\n     * Registers listeners for all global actions, like:\n     * `error`, `file-removed`, `upload-progress`\n     */\n    Object.defineProperty(this, _addListeners, {\n      value: _addListeners2\n    });\n    Object.defineProperty(this, _checkAndUpdateFileState, {\n      value: _checkAndUpdateFileState2\n    });\n    // Schedule an upload if `autoProceed` is enabled.\n    Object.defineProperty(this, _startIfAutoProceed, {\n      value: _startIfAutoProceed2\n    });\n    /**\n     * Create a file state object based on user-provided `addFile()` options.\n     */\n    Object.defineProperty(this, _transformFile, {\n      value: _transformFile2\n    });\n    Object.defineProperty(this, _assertNewUploadAllowed, {\n      value: _assertNewUploadAllowed2\n    });\n    Object.defineProperty(this, _checkRequiredMetaFields, {\n      value: _checkRequiredMetaFields2\n    });\n    Object.defineProperty(this, _checkRequiredMetaFieldsOnFile, {\n      value: _checkRequiredMetaFieldsOnFile2\n    });\n    /*\n    * @constructs\n    * @param { Error[] } errors\n    * @param { undefined } file\n    */\n    /*\n    * @constructs\n    * @param { RestrictionError } error\n    */\n    Object.defineProperty(this, _informAndEmit, {\n      value: _informAndEmit2\n    });\n    /** @type {Record<string, BasePlugin[]>} */\n    Object.defineProperty(this, _plugins, {\n      writable: true,\n      value: Object.create(null)\n    });\n    Object.defineProperty(this, _restricter, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _storeUnsubscribe, {\n      writable: true,\n      value: void 0\n    });\n    Object.defineProperty(this, _emitter, {\n      writable: true,\n      value: ee()\n    });\n    Object.defineProperty(this, _preProcessors, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _uploaders, {\n      writable: true,\n      value: new Set()\n    });\n    Object.defineProperty(this, _postProcessors, {\n      writable: true,\n      value: new Set()\n    });\n    // ___Why throttle at 500ms?\n    //    - We must throttle at >250ms for superfocus in Dashboard to work well\n    //    (because animation takes 0.25s, and we want to wait for all animations to be over before refocusing).\n    //    [Practical Check]: if thottle is at 100ms, then if you are uploading a file,\n    //    and click 'ADD MORE FILES', - focus won't activate in Firefox.\n    //    - We must throttle at around >500ms to avoid performance lags.\n    //    [Practical Check] Firefox, try to upload a big file for a prolonged period of time. Laptop will start to heat up.\n    this.calculateProgress = throttle((file, data) => {\n      const fileInState = this.getFile(file == null ? void 0 : file.id);\n      if (file == null || !fileInState) {\n        this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n        return;\n      }\n      if (fileInState.progress.percentage === 100) {\n        this.log(`Not setting progress for a file that has been already uploaded: ${file.id}`);\n        return;\n      }\n\n      // bytesTotal may be null or zero; in that case we can't divide by it\n      const canHavePercentage = Number.isFinite(data.bytesTotal) && data.bytesTotal > 0;\n      this.setFileState(file.id, {\n        progress: {\n          ...fileInState.progress,\n          bytesUploaded: data.bytesUploaded,\n          bytesTotal: data.bytesTotal,\n          percentage: canHavePercentage ? Math.round(data.bytesUploaded / data.bytesTotal * 100) : 0\n        }\n      });\n      this.calculateTotalProgress();\n    }, 500, {\n      leading: true,\n      trailing: true\n    });\n    Object.defineProperty(this, _updateOnlineStatus, {\n      writable: true,\n      value: this.updateOnlineStatus.bind(this)\n    });\n    this.defaultLocale = locale;\n    const defaultOptions = {\n      id: 'uppy',\n      autoProceed: false,\n      allowMultipleUploadBatches: true,\n      debug: false,\n      restrictions: defaultRestrictionOptions,\n      meta: {},\n      onBeforeFileAdded: (file, files) => !Object.hasOwn(files, file.id),\n      onBeforeUpload: files => files,\n      store: new DefaultStore(),\n      logger: justErrorsLogger,\n      infoTimeout: 5000\n    };\n\n    // Merge default options with the ones set by user,\n    // making sure to merge restrictions too\n    this.opts = {\n      ...defaultOptions,\n      ..._opts,\n      restrictions: {\n        ...defaultOptions.restrictions,\n        ...(_opts && _opts.restrictions)\n      }\n    };\n\n    // Support debug: true for backwards-compatability, unless logger is set in opts\n    // opts instead of this.opts to avoid comparing objects â€” we set logger: justErrorsLogger in defaultOptions\n    if (_opts && _opts.logger && _opts.debug) {\n      this.log('You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.', 'warning');\n    } else if (_opts && _opts.debug) {\n      this.opts.logger = debugLogger;\n    }\n    this.log(`Using Core v${this.constructor.VERSION}`);\n    this.i18nInit();\n    this.store = this.opts.store;\n    this.setState({\n      plugins: {},\n      files: {},\n      currentUploads: {},\n      allowNewUpload: true,\n      capabilities: {\n        uploadProgress: supportsUploadProgress(),\n        individualCancellation: true,\n        resumableUploads: false\n      },\n      totalProgress: 0,\n      meta: {\n        ...this.opts.meta\n      },\n      info: [],\n      recoveredState: null\n    });\n    _classPrivateFieldLooseBase(this, _restricter)[_restricter] = new Restricter(() => this.opts, this.i18n);\n    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe] = this.store.subscribe((prevState, nextState, patch) => {\n      this.emit('state-update', prevState, nextState, patch);\n      this.updateAll(nextState);\n    });\n\n    // Exposing uppy object on window for debugging and testing\n    if (this.opts.debug && typeof window !== 'undefined') {\n      window[this.opts.id] = this;\n    }\n    _classPrivateFieldLooseBase(this, _addListeners)[_addListeners]();\n  }\n  emit(event) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].emit(event, ...args);\n  }\n  on(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].on(event, callback);\n    return this;\n  }\n  once(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].once(event, callback);\n    return this;\n  }\n  off(event, callback) {\n    _classPrivateFieldLooseBase(this, _emitter)[_emitter].off(event, callback);\n    return this;\n  }\n\n  /**\n   * Iterate on all plugins and run `update` on them.\n   * Called each time state changes.\n   *\n   */\n  updateAll(state) {\n    this.iteratePlugins(plugin => {\n      plugin.update(state);\n    });\n  }\n\n  /**\n   * Updates state with a patch\n   *\n   * @param {object} patch {foo: 'bar'}\n   */\n  setState(patch) {\n    this.store.setState(patch);\n  }\n\n  /**\n   * Returns current state.\n   *\n   * @returns {object}\n   */\n  getState() {\n    return this.store.getState();\n  }\n  patchFilesState(filesWithNewState) {\n    const existingFilesState = this.getState().files;\n    this.setState({\n      files: {\n        ...existingFilesState,\n        ...Object.fromEntries(Object.entries(filesWithNewState).map(_ref => {\n          let [fileID, newFileState] = _ref;\n          return [fileID, {\n            ...existingFilesState[fileID],\n            ...newFileState\n          }];\n        }))\n      }\n    });\n  }\n\n  /**\n   * Shorthand to set state for a specific file.\n   */\n  setFileState(fileID, state) {\n    if (!this.getState().files[fileID]) {\n      throw new Error(`Canâ€™t set state for ${fileID} (the file could have been removed)`);\n    }\n    this.patchFilesState({\n      [fileID]: state\n    });\n  }\n  i18nInit() {\n    const translator = new Translator([this.defaultLocale, this.opts.locale]);\n    this.i18n = translator.translate.bind(translator);\n    this.i18nArray = translator.translateArray.bind(translator);\n    this.locale = translator.locale;\n  }\n  setOptions(newOpts) {\n    this.opts = {\n      ...this.opts,\n      ...newOpts,\n      restrictions: {\n        ...this.opts.restrictions,\n        ...(newOpts && newOpts.restrictions)\n      }\n    };\n    if (newOpts.meta) {\n      this.setMeta(newOpts.meta);\n    }\n    this.i18nInit();\n    if (newOpts.locale) {\n      this.iteratePlugins(plugin => {\n        plugin.setOptions(newOpts);\n      });\n    }\n\n    // Note: this is not the preact `setState`, it's an internal function that has the same name.\n    this.setState(); // so that UI re-renders with new options\n  }\n\n  resetProgress() {\n    const defaultProgress = {\n      percentage: 0,\n      bytesUploaded: 0,\n      uploadComplete: false,\n      uploadStarted: null\n    };\n    const files = {\n      ...this.getState().files\n    };\n    const updatedFiles = {};\n    Object.keys(files).forEach(fileID => {\n      updatedFiles[fileID] = {\n        ...files[fileID],\n        progress: {\n          ...files[fileID].progress,\n          ...defaultProgress\n        }\n      };\n    });\n    this.setState({\n      files: updatedFiles,\n      totalProgress: 0,\n      allowNewUpload: true,\n      error: null,\n      recoveredState: null\n    });\n    this.emit('reset-progress');\n  }\n  addPreProcessor(fn) {\n    _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].add(fn);\n  }\n  removePreProcessor(fn) {\n    return _classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors].delete(fn);\n  }\n  addPostProcessor(fn) {\n    _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].add(fn);\n  }\n  removePostProcessor(fn) {\n    return _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].delete(fn);\n  }\n  addUploader(fn) {\n    _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].add(fn);\n  }\n  removeUploader(fn) {\n    return _classPrivateFieldLooseBase(this, _uploaders)[_uploaders].delete(fn);\n  }\n  setMeta(data) {\n    const updatedMeta = {\n      ...this.getState().meta,\n      ...data\n    };\n    const updatedFiles = {\n      ...this.getState().files\n    };\n    Object.keys(updatedFiles).forEach(fileID => {\n      updatedFiles[fileID] = {\n        ...updatedFiles[fileID],\n        meta: {\n          ...updatedFiles[fileID].meta,\n          ...data\n        }\n      };\n    });\n    this.log('Adding metadata:');\n    this.log(data);\n    this.setState({\n      meta: updatedMeta,\n      files: updatedFiles\n    });\n  }\n  setFileMeta(fileID, data) {\n    const updatedFiles = {\n      ...this.getState().files\n    };\n    if (!updatedFiles[fileID]) {\n      this.log('Was trying to set metadata for a file that has been removed: ', fileID);\n      return;\n    }\n    const newMeta = {\n      ...updatedFiles[fileID].meta,\n      ...data\n    };\n    updatedFiles[fileID] = {\n      ...updatedFiles[fileID],\n      meta: newMeta\n    };\n    this.setState({\n      files: updatedFiles\n    });\n  }\n\n  /**\n   * Get a file object.\n   *\n   * @param {string} fileID The ID of the file object to return.\n   */\n  getFile(fileID) {\n    return this.getState().files[fileID];\n  }\n\n  /**\n   * Get all files in an array.\n   */\n  getFiles() {\n    const {\n      files\n    } = this.getState();\n    return Object.values(files);\n  }\n  getFilesByIds(ids) {\n    return ids.map(id => this.getFile(id));\n  }\n  getObjectOfFilesPerState() {\n    const {\n      files: filesObject,\n      totalProgress,\n      error\n    } = this.getState();\n    const files = Object.values(filesObject);\n    const inProgressFiles = files.filter(_ref2 => {\n      let {\n        progress\n      } = _ref2;\n      return !progress.uploadComplete && progress.uploadStarted;\n    });\n    const newFiles = files.filter(file => !file.progress.uploadStarted);\n    const startedFiles = files.filter(file => file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess);\n    const uploadStartedFiles = files.filter(file => file.progress.uploadStarted);\n    const pausedFiles = files.filter(file => file.isPaused);\n    const completeFiles = files.filter(file => file.progress.uploadComplete);\n    const erroredFiles = files.filter(file => file.error);\n    const inProgressNotPausedFiles = inProgressFiles.filter(file => !file.isPaused);\n    const processingFiles = files.filter(file => file.progress.preprocess || file.progress.postprocess);\n    return {\n      newFiles,\n      startedFiles,\n      uploadStartedFiles,\n      pausedFiles,\n      completeFiles,\n      erroredFiles,\n      inProgressFiles,\n      inProgressNotPausedFiles,\n      processingFiles,\n      isUploadStarted: uploadStartedFiles.length > 0,\n      isAllComplete: totalProgress === 100 && completeFiles.length === files.length && processingFiles.length === 0,\n      isAllErrored: !!error && erroredFiles.length === files.length,\n      isAllPaused: inProgressFiles.length !== 0 && pausedFiles.length === inProgressFiles.length,\n      isUploadInProgress: inProgressFiles.length > 0,\n      isSomeGhost: files.some(file => file.isGhost)\n    };\n  }\n  validateRestrictions(file, files) {\n    if (files === void 0) {\n      files = this.getFiles();\n    }\n    try {\n      _classPrivateFieldLooseBase(this, _restricter)[_restricter].validate(files, [file]);\n    } catch (err) {\n      return err;\n    }\n    return null;\n  }\n  checkIfFileAlreadyExists(fileID) {\n    const {\n      files\n    } = this.getState();\n    if (files[fileID] && !files[fileID].isGhost) {\n      return true;\n    }\n    return false;\n  }\n  /**\n   * Add a new file to `state.files`. This will run `onBeforeFileAdded`,\n   * try to guess file type in a clever way, check file against restrictions,\n   * and start an upload if `autoProceed === true`.\n   *\n   * @param {object} file object to add\n   * @returns {string} id for the added file\n   */\n  addFile(file) {\n    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed](file);\n    const {\n      nextFilesState,\n      validFilesToAdd,\n      errors\n    } = _classPrivateFieldLooseBase(this, _checkAndUpdateFileState)[_checkAndUpdateFileState]([file]);\n    const restrictionErrors = errors.filter(error => error.isRestriction);\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](restrictionErrors);\n    if (errors.length > 0) throw errors[0];\n    this.setState({\n      files: nextFilesState\n    });\n    const [firstValidFileToAdd] = validFilesToAdd;\n    this.emit('file-added', firstValidFileToAdd);\n    this.emit('files-added', validFilesToAdd);\n    this.log(`Added file: ${firstValidFileToAdd.name}, ${firstValidFileToAdd.id}, mime type: ${firstValidFileToAdd.type}`);\n    _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();\n    return firstValidFileToAdd.id;\n  }\n\n  /**\n   * Add multiple files to `state.files`. See the `addFile()` documentation.\n   *\n   * If an error occurs while adding a file, it is logged and the user is notified.\n   * This is good for UI plugins, but not for programmatic use.\n   * Programmatic users should usually still use `addFile()` on individual files.\n   */\n  addFiles(fileDescriptors) {\n    _classPrivateFieldLooseBase(this, _assertNewUploadAllowed)[_assertNewUploadAllowed]();\n    const {\n      nextFilesState,\n      validFilesToAdd,\n      errors\n    } = _classPrivateFieldLooseBase(this, _checkAndUpdateFileState)[_checkAndUpdateFileState](fileDescriptors);\n    const restrictionErrors = errors.filter(error => error.isRestriction);\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit](restrictionErrors);\n    const nonRestrictionErrors = errors.filter(error => !error.isRestriction);\n    if (nonRestrictionErrors.length > 0) {\n      let message = 'Multiple errors occurred while adding files:\\n';\n      nonRestrictionErrors.forEach(subError => {\n        message += `\\n * ${subError.message}`;\n      });\n      this.info({\n        message: this.i18n('addBulkFilesFailed', {\n          smart_count: nonRestrictionErrors.length\n        }),\n        details: message\n      }, 'error', this.opts.infoTimeout);\n      if (typeof AggregateError === 'function') {\n        throw new AggregateError(nonRestrictionErrors, message);\n      } else {\n        const err = new Error(message);\n        err.errors = nonRestrictionErrors;\n        throw err;\n      }\n    }\n\n    // OK, we haven't thrown an error, we can start updating state and emitting events now:\n\n    this.setState({\n      files: nextFilesState\n    });\n    validFilesToAdd.forEach(file => {\n      this.emit('file-added', file);\n    });\n    this.emit('files-added', validFilesToAdd);\n    if (validFilesToAdd.length > 5) {\n      this.log(`Added batch of ${validFilesToAdd.length} files`);\n    } else {\n      Object.values(validFilesToAdd).forEach(file => {\n        this.log(`Added file: ${file.name}\\n id: ${file.id}\\n type: ${file.type}`);\n      });\n    }\n    if (validFilesToAdd.length > 0) {\n      _classPrivateFieldLooseBase(this, _startIfAutoProceed)[_startIfAutoProceed]();\n    }\n  }\n  removeFiles(fileIDs, reason) {\n    const {\n      files,\n      currentUploads\n    } = this.getState();\n    const updatedFiles = {\n      ...files\n    };\n    const updatedUploads = {\n      ...currentUploads\n    };\n    const removedFiles = Object.create(null);\n    fileIDs.forEach(fileID => {\n      if (files[fileID]) {\n        removedFiles[fileID] = files[fileID];\n        delete updatedFiles[fileID];\n      }\n    });\n\n    // Remove files from the `fileIDs` list in each upload.\n    function fileIsNotRemoved(uploadFileID) {\n      return removedFiles[uploadFileID] === undefined;\n    }\n    Object.keys(updatedUploads).forEach(uploadID => {\n      const newFileIDs = currentUploads[uploadID].fileIDs.filter(fileIsNotRemoved);\n\n      // Remove the upload if no files are associated with it anymore.\n      if (newFileIDs.length === 0) {\n        delete updatedUploads[uploadID];\n        return;\n      }\n      const {\n        capabilities\n      } = this.getState();\n      if (newFileIDs.length !== currentUploads[uploadID].fileIDs.length && !capabilities.individualCancellation) {\n        throw new Error('individualCancellation is disabled');\n      }\n      updatedUploads[uploadID] = {\n        ...currentUploads[uploadID],\n        fileIDs: newFileIDs\n      };\n    });\n    const stateUpdate = {\n      currentUploads: updatedUploads,\n      files: updatedFiles\n    };\n\n    // If all files were removed - allow new uploads,\n    // and clear recoveredState\n    if (Object.keys(updatedFiles).length === 0) {\n      stateUpdate.allowNewUpload = true;\n      stateUpdate.error = null;\n      stateUpdate.recoveredState = null;\n    }\n    this.setState(stateUpdate);\n    this.calculateTotalProgress();\n    const removedFileIDs = Object.keys(removedFiles);\n    removedFileIDs.forEach(fileID => {\n      this.emit('file-removed', removedFiles[fileID], reason);\n    });\n    if (removedFileIDs.length > 5) {\n      this.log(`Removed ${removedFileIDs.length} files`);\n    } else {\n      this.log(`Removed files: ${removedFileIDs.join(', ')}`);\n    }\n  }\n  removeFile(fileID, reason) {\n    if (reason === void 0) {\n      reason = null;\n    }\n    this.removeFiles([fileID], reason);\n  }\n  pauseResume(fileID) {\n    if (!this.getState().capabilities.resumableUploads || this.getFile(fileID).uploadComplete) {\n      return undefined;\n    }\n    const wasPaused = this.getFile(fileID).isPaused || false;\n    const isPaused = !wasPaused;\n    this.setFileState(fileID, {\n      isPaused\n    });\n    this.emit('upload-pause', fileID, isPaused);\n    return isPaused;\n  }\n  pauseAll() {\n    const updatedFiles = {\n      ...this.getState().files\n    };\n    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(file => {\n      const updatedFile = {\n        ...updatedFiles[file],\n        isPaused: true\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('pause-all');\n  }\n  resumeAll() {\n    const updatedFiles = {\n      ...this.getState().files\n    };\n    const inProgressUpdatedFiles = Object.keys(updatedFiles).filter(file => {\n      return !updatedFiles[file].progress.uploadComplete && updatedFiles[file].progress.uploadStarted;\n    });\n    inProgressUpdatedFiles.forEach(file => {\n      const updatedFile = {\n        ...updatedFiles[file],\n        isPaused: false,\n        error: null\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles\n    });\n    this.emit('resume-all');\n  }\n  retryAll() {\n    const updatedFiles = {\n      ...this.getState().files\n    };\n    const filesToRetry = Object.keys(updatedFiles).filter(file => {\n      return updatedFiles[file].error;\n    });\n    filesToRetry.forEach(file => {\n      const updatedFile = {\n        ...updatedFiles[file],\n        isPaused: false,\n        error: null\n      };\n      updatedFiles[file] = updatedFile;\n    });\n    this.setState({\n      files: updatedFiles,\n      error: null\n    });\n    this.emit('retry-all', filesToRetry);\n    if (filesToRetry.length === 0) {\n      return Promise.resolve({\n        successful: [],\n        failed: []\n      });\n    }\n    const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](filesToRetry, {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n    });\n\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n  cancelAll(_temp) {\n    let {\n      reason = 'user'\n    } = _temp === void 0 ? {} : _temp;\n    this.emit('cancel-all', {\n      reason\n    });\n\n    // Only remove existing uploads if user is canceling\n    if (reason === 'user') {\n      const {\n        files\n      } = this.getState();\n      const fileIDs = Object.keys(files);\n      if (fileIDs.length) {\n        this.removeFiles(fileIDs, 'cancel-all');\n      }\n      this.setState({\n        totalProgress: 0,\n        error: null,\n        recoveredState: null\n      });\n    }\n  }\n  retryUpload(fileID) {\n    this.setFileState(fileID, {\n      error: null,\n      isPaused: false\n    });\n    this.emit('upload-retry', fileID);\n    const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload]([fileID], {\n      forceAllowNewUpload: true // create new upload even if allowNewUpload: false\n    });\n\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n  logout() {\n    this.iteratePlugins(plugin => {\n      if (plugin.provider && plugin.provider.logout) {\n        plugin.provider.logout();\n      }\n    });\n  }\n  calculateTotalProgress() {\n    // calculate total progress, using the number of files currently uploading,\n    // multiplied by 100 and the summ of individual progress of each file\n    const files = this.getFiles();\n    const inProgress = files.filter(file => {\n      return file.progress.uploadStarted || file.progress.preprocess || file.progress.postprocess;\n    });\n    if (inProgress.length === 0) {\n      this.emit('progress', 0);\n      this.setState({\n        totalProgress: 0\n      });\n      return;\n    }\n    const sizedFiles = inProgress.filter(file => file.progress.bytesTotal != null);\n    const unsizedFiles = inProgress.filter(file => file.progress.bytesTotal == null);\n    if (sizedFiles.length === 0) {\n      const progressMax = inProgress.length * 100;\n      const currentProgress = unsizedFiles.reduce((acc, file) => {\n        return acc + file.progress.percentage;\n      }, 0);\n      const totalProgress = Math.round(currentProgress / progressMax * 100);\n      this.setState({\n        totalProgress\n      });\n      return;\n    }\n    let totalSize = sizedFiles.reduce((acc, file) => {\n      return acc + file.progress.bytesTotal;\n    }, 0);\n    const averageSize = totalSize / sizedFiles.length;\n    totalSize += averageSize * unsizedFiles.length;\n    let uploadedSize = 0;\n    sizedFiles.forEach(file => {\n      uploadedSize += file.progress.bytesUploaded;\n    });\n    unsizedFiles.forEach(file => {\n      uploadedSize += averageSize * (file.progress.percentage || 0) / 100;\n    });\n    let totalProgress = totalSize === 0 ? 0 : Math.round(uploadedSize / totalSize * 100);\n\n    // hot fix, because:\n    // uploadedSize ended up larger than totalSize, resulting in 1325% total\n    if (totalProgress > 100) {\n      totalProgress = 100;\n    }\n    this.setState({\n      totalProgress\n    });\n    this.emit('progress', totalProgress);\n  }\n  updateOnlineStatus() {\n    const online = typeof window.navigator.onLine !== 'undefined' ? window.navigator.onLine : true;\n    if (!online) {\n      this.emit('is-offline');\n      this.info(this.i18n('noInternetConnection'), 'error', 0);\n      this.wasOffline = true;\n    } else {\n      this.emit('is-online');\n      if (this.wasOffline) {\n        this.emit('back-online');\n        this.info(this.i18n('connectedToInternet'), 'success', 3000);\n        this.wasOffline = false;\n      }\n    }\n  }\n  getID() {\n    return this.opts.id;\n  }\n\n  /**\n   * Registers a plugin with Core.\n   *\n   * @param {object} Plugin object\n   * @param {object} [opts] object with options to be passed to Plugin\n   * @returns {object} self for chaining\n   */\n  // eslint-disable-next-line no-shadow\n  use(Plugin, opts) {\n    if (typeof Plugin !== 'function') {\n      const msg = `Expected a plugin class, but got ${Plugin === null ? 'null' : typeof Plugin}.` + ' Please verify that the plugin was imported and spelled correctly.';\n      throw new TypeError(msg);\n    }\n\n    // Instantiate\n    const plugin = new Plugin(this, opts);\n    const pluginId = plugin.id;\n    if (!pluginId) {\n      throw new Error('Your plugin must have an id');\n    }\n    if (!plugin.type) {\n      throw new Error('Your plugin must have a type');\n    }\n    const existsPluginAlready = this.getPlugin(pluginId);\n    if (existsPluginAlready) {\n      const msg = `Already found a plugin named '${existsPluginAlready.id}'. ` + `Tried to use: '${pluginId}'.\\n` + 'Uppy plugins must have unique `id` options. See https://uppy.io/docs/plugins/#id.';\n      throw new Error(msg);\n    }\n    if (Plugin.VERSION) {\n      this.log(`Using ${pluginId} v${Plugin.VERSION}`);\n    }\n    if (plugin.type in _classPrivateFieldLooseBase(this, _plugins)[_plugins]) {\n      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type].push(plugin);\n    } else {\n      _classPrivateFieldLooseBase(this, _plugins)[_plugins][plugin.type] = [plugin];\n    }\n    plugin.install();\n    return this;\n  }\n\n  /**\n   * Find one Plugin by name.\n   *\n   * @param {string} id plugin id\n   * @returns {BasePlugin|undefined}\n   */\n  getPlugin(id) {\n    for (const plugins of Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins])) {\n      const foundPlugin = plugins.find(plugin => plugin.id === id);\n      if (foundPlugin != null) return foundPlugin;\n    }\n    return undefined;\n  }\n  [_Symbol$for](type) {\n    return _classPrivateFieldLooseBase(this, _plugins)[_plugins][type];\n  }\n\n  /**\n   * Iterate through all `use`d plugins.\n   *\n   * @param {Function} method that will be run on each plugin\n   */\n  iteratePlugins(method) {\n    Object.values(_classPrivateFieldLooseBase(this, _plugins)[_plugins]).flat(1).forEach(method);\n  }\n\n  /**\n   * Uninstall and remove a plugin.\n   *\n   * @param {object} instance The plugin instance to remove.\n   */\n  removePlugin(instance) {\n    this.log(`Removing plugin ${instance.id}`);\n    this.emit('plugin-remove', instance);\n    if (instance.uninstall) {\n      instance.uninstall();\n    }\n    const list = _classPrivateFieldLooseBase(this, _plugins)[_plugins][instance.type];\n    // list.indexOf failed here, because Vue3 converted the plugin instance\n    // to a Proxy object, which failed the strict comparison test:\n    // obj !== objProxy\n    const index = list.findIndex(item => item.id === instance.id);\n    if (index !== -1) {\n      list.splice(index, 1);\n    }\n    const state = this.getState();\n    const updatedState = {\n      plugins: {\n        ...state.plugins,\n        [instance.id]: undefined\n      }\n    };\n    this.setState(updatedState);\n  }\n\n  /**\n   * Uninstall all plugins and close down this Uppy instance.\n   */\n  close(_temp2) {\n    let {\n      reason\n    } = _temp2 === void 0 ? {} : _temp2;\n    this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`);\n    this.cancelAll({\n      reason\n    });\n    _classPrivateFieldLooseBase(this, _storeUnsubscribe)[_storeUnsubscribe]();\n    this.iteratePlugins(plugin => {\n      this.removePlugin(plugin);\n    });\n    if (typeof window !== 'undefined' && window.removeEventListener) {\n      window.removeEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n      window.removeEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    }\n  }\n  hideInfo() {\n    const {\n      info\n    } = this.getState();\n    this.setState({\n      info: info.slice(1)\n    });\n    this.emit('info-hidden');\n  }\n\n  /**\n   * Set info message in `state.info`, so that UI plugins like `Informer`\n   * can display the message.\n   *\n   * @param {string | object} message Message to be displayed by the informer\n   * @param {string} [type]\n   * @param {number} [duration]\n   */\n  info(message, type, duration) {\n    if (type === void 0) {\n      type = 'info';\n    }\n    if (duration === void 0) {\n      duration = 3000;\n    }\n    const isComplexMessage = typeof message === 'object';\n    this.setState({\n      info: [...this.getState().info, {\n        type,\n        message: isComplexMessage ? message.message : message,\n        details: isComplexMessage ? message.details : null\n      }]\n    });\n    setTimeout(() => this.hideInfo(), duration);\n    this.emit('info-visible');\n  }\n\n  /**\n   * Passes messages to a function, provided in `opts.logger`.\n   * If `opts.logger: Uppy.debugLogger` or `opts.debug: true`, logs to the browser console.\n   *\n   * @param {string|object} message to log\n   * @param {string} [type] optional `error` or `warning`\n   */\n  log(message, type) {\n    const {\n      logger\n    } = this.opts;\n    switch (type) {\n      case 'error':\n        logger.error(message);\n        break;\n      case 'warning':\n        logger.warn(message);\n        break;\n      default:\n        logger.debug(message);\n        break;\n    }\n  }\n\n  /**\n   * Restore an upload by its ID.\n   */\n  restore(uploadID) {\n    this.log(`Core: attempting to restore upload \"${uploadID}\"`);\n    if (!this.getState().currentUploads[uploadID]) {\n      _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n      return Promise.reject(new Error('Nonexistent upload'));\n    }\n    return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n  }\n  [_Symbol$for2]() {\n    return _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](...arguments);\n  }\n  /**\n   * Add data to an upload's result object.\n   *\n   * @param {string} uploadID The ID of the upload.\n   * @param {object} data Data properties to add to the result object.\n   */\n  addResultData(uploadID, data) {\n    if (!_classPrivateFieldLooseBase(this, _getUpload)[_getUpload](uploadID)) {\n      this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n      return;\n    }\n    const {\n      currentUploads\n    } = this.getState();\n    const currentUpload = {\n      ...currentUploads[uploadID],\n      result: {\n        ...currentUploads[uploadID].result,\n        ...data\n      }\n    };\n    this.setState({\n      currentUploads: {\n        ...currentUploads,\n        [uploadID]: currentUpload\n      }\n    });\n  }\n  /**\n   * Start an upload for all the files that are not currently being uploaded.\n   *\n   * @returns {Promise}\n   */\n  upload() {\n    var _classPrivateFieldLoo;\n    if (!((_classPrivateFieldLoo = _classPrivateFieldLooseBase(this, _plugins)[_plugins].uploader) != null && _classPrivateFieldLoo.length)) {\n      this.log('No uploader type plugins are used', 'warning');\n    }\n    let {\n      files\n    } = this.getState();\n    const onBeforeUploadResult = this.opts.onBeforeUpload(files);\n    if (onBeforeUploadResult === false) {\n      return Promise.reject(new Error('Not starting the upload because onBeforeUpload returned false'));\n    }\n    if (onBeforeUploadResult && typeof onBeforeUploadResult === 'object') {\n      files = onBeforeUploadResult;\n      // Updating files in state, because uploader plugins receive file IDs,\n      // and then fetch the actual file object from state\n      this.setState({\n        files\n      });\n    }\n    return Promise.resolve().then(() => _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateMinNumberOfFiles(files)).catch(err => {\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit]([err]);\n      throw err;\n    }).then(() => {\n      if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFields)[_checkRequiredMetaFields](files)) {\n        throw new RestrictionError(this.i18n('missingRequiredMetaField'));\n      }\n    }).catch(err => {\n      // Doing this in a separate catch because we already emited and logged\n      // all the errors in `checkRequiredMetaFields` so we only throw a generic\n      // missing fields error here.\n      throw err;\n    }).then(() => {\n      const {\n        currentUploads\n      } = this.getState();\n      // get a list of files that are currently assigned to uploads\n      const currentlyUploadingFiles = Object.values(currentUploads).flatMap(curr => curr.fileIDs);\n      const waitingFileIDs = [];\n      Object.keys(files).forEach(fileID => {\n        const file = this.getFile(fileID);\n        // if the file hasn't started uploading and hasn't already been assigned to an upload..\n        if (!file.progress.uploadStarted && currentlyUploadingFiles.indexOf(fileID) === -1) {\n          waitingFileIDs.push(file.id);\n        }\n      });\n      const uploadID = _classPrivateFieldLooseBase(this, _createUpload)[_createUpload](waitingFileIDs);\n      return _classPrivateFieldLooseBase(this, _runUpload)[_runUpload](uploadID);\n    }).catch(err => {\n      this.emit('error', err);\n      this.log(err, 'error');\n      throw err;\n    });\n  }\n}\nfunction _informAndEmit2(errors) {\n  for (const error of errors) {\n    const {\n      file,\n      isRestriction\n    } = error;\n    if (isRestriction) {\n      this.emit('restriction-failed', file, error);\n    } else {\n      this.emit('error', error);\n    }\n    this.log(error, 'warning');\n  }\n  const userFacingErrors = errors.filter(error => error.isUserFacing);\n\n  // don't flood the user: only show the first 4 toasts\n  const maxNumToShow = 4;\n  const firstErrors = userFacingErrors.slice(0, maxNumToShow);\n  const additionalErrors = userFacingErrors.slice(maxNumToShow);\n  firstErrors.forEach(_ref3 => {\n    let {\n      message,\n      details = ''\n    } = _ref3;\n    this.info({\n      message,\n      details\n    }, 'error', this.opts.infoTimeout);\n  });\n  if (additionalErrors.length > 0) {\n    this.info({\n      message: this.i18n('additionalRestrictionsFailed', {\n        count: additionalErrors.length\n      })\n    });\n  }\n}\nfunction _checkRequiredMetaFieldsOnFile2(file) {\n  const {\n    missingFields,\n    error\n  } = _classPrivateFieldLooseBase(this, _restricter)[_restricter].getMissingRequiredMetaFields(file);\n  if (missingFields.length > 0) {\n    this.setFileState(file.id, {\n      missingRequiredMetaFields: missingFields\n    });\n    this.log(error.message);\n    this.emit('restriction-failed', file, error);\n    return false;\n  }\n  return true;\n}\nfunction _checkRequiredMetaFields2(files) {\n  let success = true;\n  for (const file of Object.values(files)) {\n    if (!_classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file)) {\n      success = false;\n    }\n  }\n  return success;\n}\nfunction _assertNewUploadAllowed2(file) {\n  const {\n    allowNewUpload\n  } = this.getState();\n  if (allowNewUpload === false) {\n    const error = new RestrictionError(this.i18n('noMoreFilesAllowed'), {\n      file\n    });\n    _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit]([error]);\n    throw error;\n  }\n}\nfunction _transformFile2(fileDescriptorOrFile) {\n  // Uppy expects files in { name, type, size, data } format.\n  // If the actual File object is passed from input[type=file] or drag-drop,\n  // we normalize it to match Uppy file object\n  const fileDescriptor = fileDescriptorOrFile instanceof File ? {\n    name: fileDescriptorOrFile.name,\n    type: fileDescriptorOrFile.type,\n    size: fileDescriptorOrFile.size,\n    data: fileDescriptorOrFile\n  } : fileDescriptorOrFile;\n  const fileType = getFileType(fileDescriptor);\n  const fileName = getFileName(fileType, fileDescriptor);\n  const fileExtension = getFileNameAndExtension(fileName).extension;\n  const isRemote = Boolean(fileDescriptor.isRemote);\n  const id = getSafeFileId(fileDescriptor);\n  const meta = fileDescriptor.meta || {};\n  meta.name = fileName;\n  meta.type = fileType;\n\n  // `null` means the size is unknown.\n  const size = Number.isFinite(fileDescriptor.data.size) ? fileDescriptor.data.size : null;\n  return {\n    source: fileDescriptor.source || '',\n    id,\n    name: fileName,\n    extension: fileExtension || '',\n    meta: {\n      ...this.getState().meta,\n      ...meta\n    },\n    type: fileType,\n    data: fileDescriptor.data,\n    progress: {\n      percentage: 0,\n      bytesUploaded: 0,\n      bytesTotal: size,\n      uploadComplete: false,\n      uploadStarted: null\n    },\n    size,\n    isRemote,\n    remote: fileDescriptor.remote || '',\n    preview: fileDescriptor.preview\n  };\n}\nfunction _startIfAutoProceed2() {\n  if (this.opts.autoProceed && !this.scheduledAutoProceed) {\n    this.scheduledAutoProceed = setTimeout(() => {\n      this.scheduledAutoProceed = null;\n      this.upload().catch(err => {\n        if (!err.isRestriction) {\n          this.log(err.stack || err.message || err);\n        }\n      });\n    }, 4);\n  }\n}\nfunction _checkAndUpdateFileState2(filesToAdd) {\n  const {\n    files: existingFiles\n  } = this.getState();\n\n  // create a copy of the files object only once\n  const nextFilesState = {\n    ...existingFiles\n  };\n  const validFilesToAdd = [];\n  const errors = [];\n  for (const fileToAdd of filesToAdd) {\n    try {\n      var _existingFiles$newFil;\n      let newFile = _classPrivateFieldLooseBase(this, _transformFile)[_transformFile](fileToAdd);\n\n      // If a file has been recovered (Golden Retriever), but we were unable to recover its data (probably too large),\n      // users are asked to re-select these half-recovered files and then this method will be called again.\n      // In order to keep the progress, meta and everthing else, we keep the existing file,\n      // but we replace `data`, and we remove `isGhost`, because the file is no longer a ghost now\n      if ((_existingFiles$newFil = existingFiles[newFile.id]) != null && _existingFiles$newFil.isGhost) {\n        const {\n          isGhost,\n          ...existingFileState\n        } = existingFiles[newFile.id];\n        newFile = {\n          ...existingFileState,\n          data: fileToAdd.data\n        };\n        this.log(`Replaced the blob in the restored ghost file: ${newFile.name}, ${newFile.id}`);\n      }\n      const onBeforeFileAddedResult = this.opts.onBeforeFileAdded(newFile, nextFilesState);\n      if (!onBeforeFileAddedResult && this.checkIfFileAlreadyExists(newFile.id)) {\n        throw new RestrictionError(this.i18n('noDuplicates', {\n          fileName: newFile.name\n        }), {\n          file: fileToAdd\n        });\n      }\n      if (onBeforeFileAddedResult === false) {\n        // Donâ€™t show UI info for this error, as it should be done by the developer\n        throw new RestrictionError('Cannot add the file because onBeforeFileAdded returned false.', {\n          isUserFacing: false,\n          file: fileToAdd\n        });\n      } else if (typeof onBeforeFileAddedResult === 'object' && onBeforeFileAddedResult !== null) {\n        newFile = onBeforeFileAddedResult;\n      }\n      _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateSingleFile(newFile);\n\n      // need to add it to the new local state immediately, so we can use the state to validate the next files too\n      nextFilesState[newFile.id] = newFile;\n      validFilesToAdd.push(newFile);\n    } catch (err) {\n      errors.push(err);\n    }\n  }\n  try {\n    // need to run this separately because it's much more slow, so if we run it inside the for-loop it will be very slow\n    // when many files are added\n    _classPrivateFieldLooseBase(this, _restricter)[_restricter].validateAggregateRestrictions(Object.values(existingFiles), validFilesToAdd);\n  } catch (err) {\n    errors.push(err);\n\n    // If we have any aggregate error, don't allow adding this batch\n    return {\n      nextFilesState: existingFiles,\n      validFilesToAdd: [],\n      errors\n    };\n  }\n  return {\n    nextFilesState,\n    validFilesToAdd,\n    errors\n  };\n}\nfunction _addListeners2() {\n  /**\n   * @param {Error} error\n   * @param {object} [file]\n   * @param {object} [response]\n   */\n  const errorHandler = (error, file, response) => {\n    let errorMsg = error.message || 'Unknown error';\n    if (error.details) {\n      errorMsg += ` ${error.details}`;\n    }\n    this.setState({\n      error: errorMsg\n    });\n    if (file != null && file.id in this.getState().files) {\n      this.setFileState(file.id, {\n        error: errorMsg,\n        response\n      });\n    }\n  };\n  this.on('error', errorHandler);\n  this.on('upload-error', (file, error, response) => {\n    errorHandler(error, file, response);\n    if (typeof error === 'object' && error.message) {\n      this.log(error.message, 'error');\n      const newError = new Error(this.i18n('failedToUpload', {\n        file: file == null ? void 0 : file.name\n      }));\n      newError.isUserFacing = true; // todo maybe don't do this with all errors?\n      newError.details = error.message;\n      if (error.details) {\n        newError.details += ` ${error.details}`;\n      }\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit]([newError]);\n    } else {\n      _classPrivateFieldLooseBase(this, _informAndEmit)[_informAndEmit]([error]);\n    }\n  });\n  let uploadStalledWarningRecentlyEmitted;\n  this.on('upload-stalled', (error, files) => {\n    const {\n      message\n    } = error;\n    const details = files.map(file => file.meta.name).join(', ');\n    if (!uploadStalledWarningRecentlyEmitted) {\n      this.info({\n        message,\n        details\n      }, 'warning', this.opts.infoTimeout);\n      uploadStalledWarningRecentlyEmitted = setTimeout(() => {\n        uploadStalledWarningRecentlyEmitted = null;\n      }, this.opts.infoTimeout);\n    }\n    this.log(`${message} ${details}`.trim(), 'warning');\n  });\n  this.on('upload', () => {\n    this.setState({\n      error: null\n    });\n  });\n  const onUploadStarted = files => {\n    const filesFiltered = files.filter(file => {\n      const exists = file != null && this.getFile(file.id);\n      if (!exists) this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return exists;\n    });\n    const filesState = Object.fromEntries(filesFiltered.map(file => [file.id, {\n      progress: {\n        uploadStarted: Date.now(),\n        uploadComplete: false,\n        percentage: 0,\n        bytesUploaded: 0,\n        bytesTotal: file.size\n      }\n    }]));\n    this.patchFilesState(filesState);\n  };\n  this.on('upload-start', files => {\n    files.forEach(file => {\n      // todo backward compat, remove this event in a next major\n      this.emit('upload-started', file);\n    });\n    onUploadStarted(files);\n  });\n  this.on('upload-progress', this.calculateProgress);\n  this.on('upload-success', (file, uploadResp) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n    const currentProgress = this.getFile(file.id).progress;\n    this.setFileState(file.id, {\n      progress: {\n        ...currentProgress,\n        postprocess: _classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors].size > 0 ? {\n          mode: 'indeterminate'\n        } : null,\n        uploadComplete: true,\n        percentage: 100,\n        bytesUploaded: currentProgress.bytesTotal\n      },\n      response: uploadResp,\n      uploadURL: uploadResp.uploadURL,\n      isPaused: false\n    });\n\n    // Remote providers sometimes don't tell us the file size,\n    // but we can know how many bytes we uploaded once the upload is complete.\n    if (file.size == null) {\n      this.setFileState(file.id, {\n        size: uploadResp.bytesUploaded || currentProgress.bytesTotal\n      });\n    }\n    this.calculateTotalProgress();\n  });\n  this.on('preprocess-progress', (file, progress) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n    this.setFileState(file.id, {\n      progress: {\n        ...this.getFile(file.id).progress,\n        preprocess: progress\n      }\n    });\n  });\n  this.on('preprocess-complete', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n    const files = {\n      ...this.getState().files\n    };\n    files[file.id] = {\n      ...files[file.id],\n      progress: {\n        ...files[file.id].progress\n      }\n    };\n    delete files[file.id].progress.preprocess;\n    this.setState({\n      files\n    });\n  });\n  this.on('postprocess-progress', (file, progress) => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n    this.setFileState(file.id, {\n      progress: {\n        ...this.getState().files[file.id].progress,\n        postprocess: progress\n      }\n    });\n  });\n  this.on('postprocess-complete', file => {\n    if (file == null || !this.getFile(file.id)) {\n      this.log(`Not setting progress for a file that has been removed: ${file == null ? void 0 : file.id}`);\n      return;\n    }\n    const files = {\n      ...this.getState().files\n    };\n    files[file.id] = {\n      ...files[file.id],\n      progress: {\n        ...files[file.id].progress\n      }\n    };\n    delete files[file.id].progress.postprocess;\n    this.setState({\n      files\n    });\n  });\n  this.on('restored', () => {\n    // Files may have changed--ensure progress is still accurate.\n    this.calculateTotalProgress();\n  });\n  this.on('dashboard:file-edit-complete', file => {\n    if (file) {\n      _classPrivateFieldLooseBase(this, _checkRequiredMetaFieldsOnFile)[_checkRequiredMetaFieldsOnFile](file);\n    }\n  });\n\n  // show informer if offline\n  if (typeof window !== 'undefined' && window.addEventListener) {\n    window.addEventListener('online', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    window.addEventListener('offline', _classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus]);\n    setTimeout(_classPrivateFieldLooseBase(this, _updateOnlineStatus)[_updateOnlineStatus], 3000);\n  }\n}\nfunction _createUpload2(fileIDs, opts) {\n  if (opts === void 0) {\n    opts = {};\n  }\n  // uppy.retryAll sets this to true â€” when retrying we want to ignore `allowNewUpload: false`\n  const {\n    forceAllowNewUpload = false\n  } = opts;\n  const {\n    allowNewUpload,\n    currentUploads\n  } = this.getState();\n  if (!allowNewUpload && !forceAllowNewUpload) {\n    throw new Error('Cannot create a new upload: already uploading.');\n  }\n  const uploadID = nanoid();\n  this.emit('upload', {\n    id: uploadID,\n    fileIDs\n  });\n  this.setState({\n    allowNewUpload: this.opts.allowMultipleUploadBatches !== false && this.opts.allowMultipleUploads !== false,\n    currentUploads: {\n      ...currentUploads,\n      [uploadID]: {\n        fileIDs,\n        step: 0,\n        result: {}\n      }\n    }\n  });\n  return uploadID;\n}\nfunction _getUpload2(uploadID) {\n  const {\n    currentUploads\n  } = this.getState();\n  return currentUploads[uploadID];\n}\nfunction _removeUpload2(uploadID) {\n  const currentUploads = {\n    ...this.getState().currentUploads\n  };\n  delete currentUploads[uploadID];\n  this.setState({\n    currentUploads\n  });\n}\nasync function _runUpload2(uploadID) {\n  const getCurrentUpload = () => {\n    const {\n      currentUploads\n    } = this.getState();\n    return currentUploads[uploadID];\n  };\n  let currentUpload = getCurrentUpload();\n  const steps = [..._classPrivateFieldLooseBase(this, _preProcessors)[_preProcessors], ..._classPrivateFieldLooseBase(this, _uploaders)[_uploaders], ..._classPrivateFieldLooseBase(this, _postProcessors)[_postProcessors]];\n  try {\n    for (let step = currentUpload.step || 0; step < steps.length; step++) {\n      if (!currentUpload) {\n        break;\n      }\n      const fn = steps[step];\n      this.setState({\n        currentUploads: {\n          ...this.getState().currentUploads,\n          [uploadID]: {\n            ...currentUpload,\n            step\n          }\n        }\n      });\n      const {\n        fileIDs\n      } = currentUpload;\n\n      // TODO give this the `updatedUpload` object as its only parameter maybe?\n      // Otherwise when more metadata may be added to the upload this would keep getting more parameters\n      await fn(fileIDs, uploadID);\n\n      // Update currentUpload value in case it was modified asynchronously.\n      currentUpload = getCurrentUpload();\n    }\n  } catch (err) {\n    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n    throw err;\n  }\n\n  // Set result data.\n  if (currentUpload) {\n    // Mark postprocessing step as complete if necessary; this addresses a case where we might get\n    // stuck in the postprocessing UI while the upload is fully complete.\n    // If the postprocessing steps do not do any work, they may not emit postprocessing events at\n    // all, and never mark the postprocessing as complete. This is fine on its own but we\n    // introduced code in the @uppy/core upload-success handler to prepare postprocessing progress\n    // state if any postprocessors are registered. That is to avoid a \"flash of completed state\"\n    // before the postprocessing plugins can emit events.\n    //\n    // So, just in case an upload with postprocessing plugins *has* completed *without* emitting\n    // postprocessing completion, we do it instead.\n    currentUpload.fileIDs.forEach(fileID => {\n      const file = this.getFile(fileID);\n      if (file && file.progress.postprocess) {\n        this.emit('postprocess-complete', file);\n      }\n    });\n    const files = currentUpload.fileIDs.map(fileID => this.getFile(fileID));\n    const successful = files.filter(file => !file.error);\n    const failed = files.filter(file => file.error);\n    await this.addResultData(uploadID, {\n      successful,\n      failed,\n      uploadID\n    });\n\n    // Update currentUpload value in case it was modified asynchronously.\n    currentUpload = getCurrentUpload();\n  }\n  // Emit completion events.\n  // This is in a separate function so that the `currentUploads` variable\n  // always refers to the latest state. In the handler right above it refers\n  // to an outdated object without the `.result` property.\n  let result;\n  if (currentUpload) {\n    result = currentUpload.result;\n    this.emit('complete', result);\n    _classPrivateFieldLooseBase(this, _removeUpload)[_removeUpload](uploadID);\n  }\n  if (result == null) {\n    this.log(`Not setting result for an upload that has been removed: ${uploadID}`);\n  }\n  return result;\n}\nUppy.VERSION = packageJson.version;\nexport default Uppy;", "function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\n\nvar id = 0;\n\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\n\nconst packageJson = {\n  \"version\": \"3.0.3\"\n};\n/**\n * Default store that keeps state in a simple object.\n */\n\nvar _callbacks = /*#__PURE__*/_classPrivateFieldLooseKey(\"callbacks\");\n\nvar _publish = /*#__PURE__*/_classPrivateFieldLooseKey(\"publish\");\n\nclass DefaultStore {\n  constructor() {\n    Object.defineProperty(this, _publish, {\n      value: _publish2\n    });\n    Object.defineProperty(this, _callbacks, {\n      writable: true,\n      value: new Set()\n    });\n    this.state = {};\n  }\n\n  getState() {\n    return this.state;\n  }\n\n  setState(patch) {\n    const prevState = { ...this.state\n    };\n    const nextState = { ...this.state,\n      ...patch\n    };\n    this.state = nextState;\n\n    _classPrivateFieldLooseBase(this, _publish)[_publish](prevState, nextState, patch);\n  }\n\n  subscribe(listener) {\n    _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].add(listener);\n\n    return () => {\n      _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].delete(listener);\n    };\n  }\n\n}\n\nfunction _publish2() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  _classPrivateFieldLooseBase(this, _callbacks)[_callbacks].forEach(listener => {\n    listener(...args);\n  });\n}\n\nDefaultStore.VERSION = packageJson.version;\nexport default DefaultStore;", "/**\n * Takes a full filename string and returns an object {name, extension}\n *\n * @param {string} fullFileName\n * @returns {object} {name, extension}\n */\nexport default function getFileNameAndExtension(fullFileName) {\n  const lastDot = fullFileName.lastIndexOf('.');\n  // these count as no extension: \"no-dot\", \"trailing-dot.\"\n  if (lastDot === -1 || lastDot === fullFileName.length - 1) {\n    return {\n      name: fullFileName,\n      extension: undefined\n    };\n  }\n  return {\n    name: fullFileName.slice(0, lastDot),\n    extension: fullFileName.slice(lastDot + 1)\n  };\n}", "// ___Why not add the mime-types package?\n//    It's 19.7kB gzipped, and we only need mime types for well-known extensions (for file previews).\n// ___Where to take new extensions from?\n//    https://github.com/jshttp/mime-db/blob/master/db.json\n\nexport default {\n  md: 'text/markdown',\n  markdown: 'text/markdown',\n  mp4: 'video/mp4',\n  mp3: 'audio/mp3',\n  svg: 'image/svg+xml',\n  jpg: 'image/jpeg',\n  png: 'image/png',\n  webp: 'image/webp',\n  gif: 'image/gif',\n  heic: 'image/heic',\n  heif: 'image/heif',\n  yaml: 'text/yaml',\n  yml: 'text/yaml',\n  csv: 'text/csv',\n  tsv: 'text/tab-separated-values',\n  tab: 'text/tab-separated-values',\n  avi: 'video/x-msvideo',\n  mks: 'video/x-matroska',\n  mkv: 'video/x-matroska',\n  mov: 'video/quicktime',\n  dicom: 'application/dicom',\n  doc: 'application/msword',\n  docm: 'application/vnd.ms-word.document.macroenabled.12',\n  docx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  dot: 'application/msword',\n  dotm: 'application/vnd.ms-word.template.macroenabled.12',\n  dotx: 'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  xla: 'application/vnd.ms-excel',\n  xlam: 'application/vnd.ms-excel.addin.macroenabled.12',\n  xlc: 'application/vnd.ms-excel',\n  xlf: 'application/x-xliff+xml',\n  xlm: 'application/vnd.ms-excel',\n  xls: 'application/vnd.ms-excel',\n  xlsb: 'application/vnd.ms-excel.sheet.binary.macroenabled.12',\n  xlsm: 'application/vnd.ms-excel.sheet.macroenabled.12',\n  xlsx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  xlt: 'application/vnd.ms-excel',\n  xltm: 'application/vnd.ms-excel.template.macroenabled.12',\n  xltx: 'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  xlw: 'application/vnd.ms-excel',\n  txt: 'text/plain',\n  text: 'text/plain',\n  conf: 'text/plain',\n  log: 'text/plain',\n  pdf: 'application/pdf',\n  zip: 'application/zip',\n  '7z': 'application/x-7z-compressed',\n  rar: 'application/x-rar-compressed',\n  tar: 'application/x-tar',\n  gz: 'application/gzip',\n  dmg: 'application/x-apple-diskimage'\n};", "import getFileNameAndExtension from './getFileNameAndExtension.js';\nimport mimeTypes from './mimeTypes.js';\nexport default function getFileType(file) {\n  var _getFileNameAndExtens;\n  if (file.type) return file.type;\n  const fileExtension = file.name ? (_getFileNameAndExtens = getFileNameAndExtension(file.name).extension) == null ? void 0 : _getFileNameAndExtens.toLowerCase() : null;\n  if (fileExtension && fileExtension in mimeTypes) {\n    // else, see if we can map extension to a mime type\n    return mimeTypes[fileExtension];\n  }\n  // if all fails, fall back to a generic byte stream type\n  return 'application/octet-stream';\n}", "import getFileType from './getFileType.js';\nfunction encodeCharacter(character) {\n  return character.charCodeAt(0).toString(32);\n}\nfunction encodeFilename(name) {\n  let suffix = '';\n  return name.replace(/[^A-Z0-9]/ig, character => {\n    suffix += `-${encodeCharacter(character)}`;\n    return '/';\n  }) + suffix;\n}\n\n/**\n * Takes a file object and turns it into fileID, by converting file.name to lowercase,\n * removing extra characters and adding type, size and lastModified\n *\n * @param {object} file\n * @returns {string} the fileID\n */\nexport default function generateFileID(file) {\n  // It's tempting to do `[items].filter(Boolean).join('-')` here, but that\n  // is slower! simple string concatenation is fast\n\n  let id = 'uppy';\n  if (typeof file.name === 'string') {\n    id += `-${encodeFilename(file.name.toLowerCase())}`;\n  }\n  if (file.type !== undefined) {\n    id += `-${file.type}`;\n  }\n  if (file.meta && typeof file.meta.relativePath === 'string') {\n    id += `-${encodeFilename(file.meta.relativePath.toLowerCase())}`;\n  }\n  if (file.data.size !== undefined) {\n    id += `-${file.data.size}`;\n  }\n  if (file.data.lastModified !== undefined) {\n    id += `-${file.data.lastModified}`;\n  }\n  return id;\n}\n\n// If the provider has a stable, unique ID, then we can use that to identify the file.\n// Then we don't have to generate our own ID, and we can add the same file many times if needed (different path)\nfunction hasFileStableId(file) {\n  if (!file.isRemote || !file.remote) return false;\n  // These are the providers that it seems like have stable IDs for their files. The other's I haven't checked yet.\n  const stableIdProviders = new Set(['box', 'dropbox', 'drive', 'facebook', 'unsplash']);\n  return stableIdProviders.has(file.remote.provider);\n}\nexport function getSafeFileId(file) {\n  if (hasFileStableId(file)) return file.id;\n  const fileType = getFileType(file);\n  return generateFileID({\n    ...file,\n    type: fileType\n  });\n}", "// Edge 15.x does not fire 'progress' events on uploads.\n// See https://github.com/transloadit/uppy/issues/945\n// And https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/\nexport default function supportsUploadProgress(userAgent) {\n  // Allow passing in userAgent for tests\n  if (userAgent == null && typeof navigator !== 'undefined') {\n    // eslint-disable-next-line no-param-reassign\n    userAgent = navigator.userAgent;\n  }\n  // Assume it works because basically everything supports progress events.\n  if (!userAgent) return true;\n  const m = /Edge\\/(\\d+\\.\\d+)/.exec(userAgent);\n  if (!m) return true;\n  const edgeVersion = m[1];\n  let [major, minor] = edgeVersion.split('.');\n  major = parseInt(major, 10);\n  minor = parseInt(minor, 10);\n\n  // Worked before:\n  // Edge 40.15063.0.0\n  // Microsoft EdgeHTML 15.15063\n  if (major < 15 || major === 15 && minor < 15063) {\n    return true;\n  }\n\n  // Fixed in:\n  // Microsoft EdgeHTML 18.18218\n  if (major > 18 || major === 18 && minor >= 18218) {\n    return true;\n  }\n\n  // other versions don't work.\n  return false;\n}", "export default function getFileName(fileType, fileDescriptor) {\n  if (fileDescriptor.name) {\n    return fileDescriptor.name;\n  }\n  if (fileType.split('/')[0] === 'image') {\n    return `${fileType.split('/')[0]}.${fileType.split('/')[1]}`;\n  }\n  return 'noname';\n}", "/**\n * Adds zero to strings shorter than two characters.\n *\n * @param {number} number\n * @returns {string}\n */\nfunction pad(number) {\n  return number < 10 ? `0${number}` : number.toString();\n}\n\n/**\n * Returns a timestamp in the format of `hours:minutes:seconds`\n */\nexport default function getTimeStamp() {\n  const date = new Date();\n  const hours = pad(date.getHours());\n  const minutes = pad(date.getMinutes());\n  const seconds = pad(date.getSeconds());\n  return `${hours}:${minutes}:${seconds}`;\n}", "/* eslint-disable no-console */\nimport getTimeStamp from '@uppy/utils/lib/getTimeStamp';\n\n// Swallow all logs, except errors.\n// default if logger is not set or debug: false\nconst justErrorsLogger = {\n  debug: () => {},\n  warn: () => {},\n  error: function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n  }\n};\n\n// Print logs to console with namespace + timestamp,\n// set by logger: Uppy.debugLogger or debug: true\nconst debugLogger = {\n  debug: function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return console.debug(`[Uppy] [${getTimeStamp()}]`, ...args);\n  },\n  warn: function () {\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n    return console.warn(`[Uppy] [${getTimeStamp()}]`, ...args);\n  },\n  error: function () {\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n    return console.error(`[Uppy] [${getTimeStamp()}]`, ...args);\n  }\n};\nexport { justErrorsLogger, debugLogger };", "/* eslint-disable max-classes-per-file, class-methods-use-this */\nimport prettierBytes from '@transloadit/prettier-bytes';\nimport match from 'mime-match';\nconst defaultOptions = {\n  maxFileSize: null,\n  minFileSize: null,\n  maxTotalFileSize: null,\n  maxNumberOfFiles: null,\n  minNumberOfFiles: null,\n  allowedFileTypes: null,\n  requiredMetaFields: []\n};\nclass RestrictionError extends Error {\n  constructor(message, _temp) {\n    let {\n      isUserFacing = true,\n      file\n    } = _temp === void 0 ? {} : _temp;\n    super(message);\n    this.isRestriction = true;\n    this.isUserFacing = isUserFacing;\n    if (file != null) this.file = file; // only some restriction errors are related to a particular file\n  }\n}\n\nclass Restricter {\n  constructor(getOpts, i18n) {\n    this.i18n = i18n;\n    this.getOpts = () => {\n      const opts = getOpts();\n      if (opts.restrictions.allowedFileTypes != null && !Array.isArray(opts.restrictions.allowedFileTypes)) {\n        throw new TypeError('`restrictions.allowedFileTypes` must be an array');\n      }\n      return opts;\n    };\n  }\n\n  // Because these operations are slow, we cannot run them for every file (if we are adding multiple files)\n  validateAggregateRestrictions(existingFiles, addingFiles) {\n    const {\n      maxTotalFileSize,\n      maxNumberOfFiles\n    } = this.getOpts().restrictions;\n    if (maxNumberOfFiles) {\n      const nonGhostFiles = existingFiles.filter(f => !f.isGhost);\n      if (nonGhostFiles.length + addingFiles.length > maxNumberOfFiles) {\n        throw new RestrictionError(`${this.i18n('youCanOnlyUploadX', {\n          smart_count: maxNumberOfFiles\n        })}`);\n      }\n    }\n    if (maxTotalFileSize) {\n      let totalFilesSize = existingFiles.reduce((total, f) => total + f.size, 0);\n      for (const addingFile of addingFiles) {\n        if (addingFile.size != null) {\n          // We can't check maxTotalFileSize if the size is unknown.\n          totalFilesSize += addingFile.size;\n          if (totalFilesSize > maxTotalFileSize) {\n            throw new RestrictionError(this.i18n('exceedsSize', {\n              size: prettierBytes(maxTotalFileSize),\n              file: addingFile.name\n            }));\n          }\n        }\n      }\n    }\n  }\n  validateSingleFile(file) {\n    const {\n      maxFileSize,\n      minFileSize,\n      allowedFileTypes\n    } = this.getOpts().restrictions;\n    if (allowedFileTypes) {\n      const isCorrectFileType = allowedFileTypes.some(type => {\n        // check if this is a mime-type\n        if (type.includes('/')) {\n          if (!file.type) return false;\n          return match(file.type.replace(/;.*?$/, ''), type);\n        }\n\n        // otherwise this is likely an extension\n        if (type[0] === '.' && file.extension) {\n          return file.extension.toLowerCase() === type.slice(1).toLowerCase();\n        }\n        return false;\n      });\n      if (!isCorrectFileType) {\n        const allowedFileTypesString = allowedFileTypes.join(', ');\n        throw new RestrictionError(this.i18n('youCanOnlyUploadFileTypes', {\n          types: allowedFileTypesString\n        }), {\n          file\n        });\n      }\n    }\n\n    // We can't check maxFileSize if the size is unknown.\n    if (maxFileSize && file.size != null && file.size > maxFileSize) {\n      throw new RestrictionError(this.i18n('exceedsSize', {\n        size: prettierBytes(maxFileSize),\n        file: file.name\n      }), {\n        file\n      });\n    }\n\n    // We can't check minFileSize if the size is unknown.\n    if (minFileSize && file.size != null && file.size < minFileSize) {\n      throw new RestrictionError(this.i18n('inferiorSize', {\n        size: prettierBytes(minFileSize)\n      }), {\n        file\n      });\n    }\n  }\n  validate(existingFiles, addingFiles) {\n    addingFiles.forEach(addingFile => {\n      this.validateSingleFile(addingFile);\n    });\n    this.validateAggregateRestrictions(existingFiles, addingFiles);\n  }\n  validateMinNumberOfFiles(files) {\n    const {\n      minNumberOfFiles\n    } = this.getOpts().restrictions;\n    if (Object.keys(files).length < minNumberOfFiles) {\n      throw new RestrictionError(this.i18n('youHaveToAtLeastSelectX', {\n        smart_count: minNumberOfFiles\n      }));\n    }\n  }\n  getMissingRequiredMetaFields(file) {\n    const error = new RestrictionError(this.i18n('missingRequiredMetaFieldOnFile', {\n      fileName: file.name\n    }));\n    const {\n      requiredMetaFields\n    } = this.getOpts().restrictions;\n    const missingFields = [];\n    for (const field of requiredMetaFields) {\n      if (!Object.hasOwn(file.meta, field) || file.meta[field] === '') {\n        missingFields.push(field);\n      }\n    }\n    return {\n      missingFields,\n      error\n    };\n  }\n}\nexport { Restricter, defaultOptions, RestrictionError };", "export default {\n  strings: {\n    addBulkFilesFailed: {\n      0: 'Failed to add %{smart_count} file due to an internal error',\n      1: 'Failed to add %{smart_count} files due to internal errors'\n    },\n    youCanOnlyUploadX: {\n      0: 'You can only upload %{smart_count} file',\n      1: 'You can only upload %{smart_count} files'\n    },\n    youHaveToAtLeastSelectX: {\n      0: 'You have to select at least %{smart_count} file',\n      1: 'You have to select at least %{smart_count} files'\n    },\n    exceedsSize: '%{file} exceeds maximum allowed size of %{size}',\n    missingRequiredMetaField: 'Missing required meta fields',\n    missingRequiredMetaFieldOnFile: 'Missing required meta fields in %{fileName}',\n    inferiorSize: 'This file is smaller than the allowed size of %{size}',\n    youCanOnlyUploadFileTypes: 'You can only upload: %{types}',\n    noMoreFilesAllowed: 'Cannot add more files',\n    noDuplicates: \"Cannot add the duplicate file '%{fileName}', it already exists\",\n    companionError: 'Connection with Companion failed',\n    authAborted: 'Authentication aborted',\n    companionUnauthorizeHint: 'To unauthorize to your %{provider} account, please go to %{url}',\n    failedToUpload: 'Failed to upload %{file}',\n    noInternetConnection: 'No Internet connection',\n    connectedToInternet: 'Connected to the Internet',\n    // Strings for remote providers\n    noFilesFound: 'You have no files or folders here',\n    noSearchResults: 'Unfortunately, there are no results for this search',\n    selectX: {\n      0: 'Select %{smart_count}',\n      1: 'Select %{smart_count}'\n    },\n    allFilesFromFolderNamed: 'All files from folder %{name}',\n    openFolderNamed: 'Open folder %{name}',\n    cancel: 'Cancel',\n    logOut: 'Log out',\n    filter: 'Filter',\n    resetFilter: 'Reset filter',\n    loading: 'Loading...',\n    loadedXFiles: 'Loaded %{numFiles} files',\n    authenticateWithTitle: 'Please authenticate with %{pluginName} to select files',\n    authenticateWith: 'Connect to %{pluginName}',\n    signInWithGoogle: 'Sign in with Google',\n    searchImages: 'Search for images',\n    enterTextToSearch: 'Enter text to search for images',\n    search: 'Search',\n    resetSearch: 'Reset search',\n    emptyFolderAdded: 'No files were added from empty folder',\n    addedNumFiles: 'Added %{numFiles} file(s)',\n    folderAlreadyAdded: 'The folder \"%{folder}\" was already added',\n    folderAdded: {\n      0: 'Added %{smart_count} file from %{folder}',\n      1: 'Added %{smart_count} files from %{folder}'\n    },\n    additionalRestrictionsFailed: '%{count} additional restrictions were not fulfilled'\n  }\n};", "import { EMPTY_ARR } from './constants';\n\nexport const isArray = Array.isArray;\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n", "import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n", "import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n", "import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function (update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [],\n\t\t\trefQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\tcommitRoot(commitQueue, vnode, refQueue);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {import('./internal').Component} a\n * @param {import('./internal').Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c;\n\trerenderQueue.sort(depthSort);\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile ((c = rerenderQueue.shift())) {\n\t\tif (c._dirty) {\n\t\t\tlet renderQueueLength = rerenderQueue.length;\n\t\t\trenderComponent(c);\n\t\t\tif (rerenderQueue.length > renderQueueLength) {\n\t\t\t\t// When i.e. rerendering a provider additional new items can be injected, we want to\n\t\t\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t\t\t// single pass\n\t\t\t\trerenderQueue.sort(depthSort);\n\t\t\t}\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n", "import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\t/** @type {import('./internal').Component[]} */\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function (_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType =\n\t\tcontext);\n}\n", "export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { isArray } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {Array<any>} refQueue an array of elements needed to invoke refs\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet i,\n\t\tj,\n\t\toldVNode,\n\t\tchildVNode,\n\t\tnewDom,\n\t\tfirstChildDom,\n\t\tskew = 0;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length,\n\t\tremainingOldChildren = oldChildrenLength,\n\t\tnewChildrenLength = renderResult.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < newChildrenLength; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == null ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\toldVNode = oldChildren[i];\n\t\t\tif (oldVNode && oldVNode.key == null && oldVNode._dom) {\n\t\t\t\tif (oldVNode._dom == oldDom) {\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\n\t\t\t\tunmount(oldVNode, oldVNode, false);\n\t\t\t\toldChildren[i] = null;\n\t\t\t}\n\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\tlet skewedIndex = i + skew;\n\t\tconst matchingIndex = findMatchingIndex(\n\t\t\tchildVNode,\n\t\t\toldChildren,\n\t\t\tskewedIndex,\n\t\t\tremainingOldChildren\n\t\t);\n\n\t\tif (matchingIndex === -1) {\n\t\t\toldVNode = EMPTY_OBJ;\n\t\t} else {\n\t\t\toldVNode = oldChildren[matchingIndex] || EMPTY_OBJ;\n\t\t\toldChildren[matchingIndex] = undefined;\n\t\t\tremainingOldChildren--;\n\t\t}\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (oldVNode.ref) {\n\t\t\t\tapplyRef(oldVNode.ref, null, childVNode);\n\t\t\t}\n\t\t\trefQueue.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tlet isMounting = oldVNode === EMPTY_OBJ || oldVNode._original === null;\n\t\t\tif (isMounting) {\n\t\t\t\tif (matchingIndex == -1) {\n\t\t\t\t\tskew--;\n\t\t\t\t}\n\t\t\t} else if (matchingIndex !== skewedIndex) {\n\t\t\t\tif (matchingIndex === skewedIndex + 1) {\n\t\t\t\t\tskew++;\n\t\t\t\t} else if (matchingIndex > skewedIndex) {\n\t\t\t\t\tif (remainingOldChildren > newChildrenLength - skewedIndex) {\n\t\t\t\t\t\tskew += matchingIndex - skewedIndex;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// ### Change from keyed: I think this was missing from the algo...\n\t\t\t\t\t\tskew--;\n\t\t\t\t\t}\n\t\t\t\t} else if (matchingIndex < skewedIndex) {\n\t\t\t\t\tif (matchingIndex == skewedIndex - 1) {\n\t\t\t\t\t\tskew = matchingIndex - skewedIndex;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tskew = 0;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tskew = 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tskewedIndex = i + skew;\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\t(matchingIndex !== skewedIndex ||\n\t\t\t\t\toldVNode._children === childVNode._children)\n\t\t\t) {\n\t\t\t\toldDom = reorderChildren(childVNode, oldDom, parentDom);\n\t\t\t} else if (\n\t\t\t\ttypeof childVNode.type != 'function' &&\n\t\t\t\t(matchingIndex !== skewedIndex || isMounting)\n\t\t\t) {\n\t\t\t\toldDom = placeChild(parentDom, newDom, oldDom);\n\t\t\t} else if (childVNode._nextDom !== undefined) {\n\t\t\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t\t\t// of last DOM child of this child VNode\n\t\t\t\toldDom = childVNode._nextDom;\n\n\t\t\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t\t\t// can clean up the property\n\t\t\t\tchildVNode._nextDom = undefined;\n\t\t\t} else {\n\t\t\t\toldDom = newDom.nextSibling;\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\n\t\t\t\tnewParentVNode._nextDom = oldChildren[i]._dom.nextSibling;\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(parentDom, vnode._dom, oldDom);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(parentDom, newDom, oldDom) {\n\tif (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\tparentDom.insertBefore(newDom, null);\n\t} else if (newDom != oldDom || newDom.parentNode == null) {\n\t\tparentDom.insertBefore(newDom, oldDom);\n\t}\n\n\treturn newDom.nextSibling;\n}\n\n/**\n * @param {import('../internal').VNode | string} childVNode\n * @param {import('../internal').VNode[]} oldChildren\n * @param {number} skewedIndex\n * @param {number} remainingOldChildren\n * @returns {number}\n */\nfunction findMatchingIndex(\n\tchildVNode,\n\toldChildren,\n\tskewedIndex,\n\tremainingOldChildren\n) {\n\tconst key = childVNode.key;\n\tconst type = childVNode.type;\n\tlet x = skewedIndex - 1;\n\tlet y = skewedIndex + 1;\n\tlet oldVNode = oldChildren[skewedIndex];\n\n\tif (\n\t\toldVNode === null ||\n\t\t(oldVNode && key == oldVNode.key && type === oldVNode.type)\n\t) {\n\t\treturn skewedIndex;\n\t} else if (remainingOldChildren > (oldVNode != null ? 1 : 0)) {\n\t\twhile (x >= 0 || y < oldChildren.length) {\n\t\t\tif (x >= 0) {\n\t\t\t\toldVNode = oldChildren[x];\n\t\t\t\tif (oldVNode && key == oldVNode.key && type === oldVNode.type) {\n\t\t\t\t\treturn x;\n\t\t\t\t}\n\t\t\t\tx--;\n\t\t\t}\n\n\t\t\tif (y < oldChildren.length) {\n\t\t\t\toldVNode = oldChildren[y];\n\t\t\t\tif (oldVNode && key == oldVNode.key && type === oldVNode.type) {\n\t\t\t\t\treturn y;\n\t\t\t\t}\n\t\t\t\ty++;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn -1;\n}\n", "import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value == null ? '' : value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/(PointerCapture)$|Capture$/, '$1'));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'width' &&\n\t\t\tname !== 'height' &&\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname !== 'rowSpan' &&\n\t\t\tname !== 'colSpan' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// aria- and data- attributes have no boolean representation.\n\t\t// A `false` value is different from the attribute not being\n\t\t// present, so we can't remove it. For non-boolean aria\n\t\t// attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost too many bytes. On top of\n\t\t// that other frameworks generally stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name[4] === '-')) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\treturn this._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n", "import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, isArray, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {Array<any>} refQueue an array of elements needed to invoke refs\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating,\n\trefQueue\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\touter: if (typeof newType == 'function') {\n\t\ttry {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t!c._force &&\n\t\t\t\t\t((c.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\t\tnewVNode._original === oldVNode._original)\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\t\t\tc._force = false;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tisArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tnewVNode._original = null;\n\t\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\t\tnewVNode._dom = oldDom;\n\t\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t\t// ^ could possibly be simplified to:\n\t\t\t\t// excessDomChildren.length = 0;\n\t\t\t}\n\t\t\toptions._catchError(e, newVNode, oldVNode);\n\t\t}\n\t} else if (\n\t\texcessDomChildren == null &&\n\t\tnewVNode._original === oldVNode._original\n\t) {\n\t\tnewVNode._children = oldVNode._children;\n\t\tnewVNode._dom = oldVNode._dom;\n\t} else {\n\t\tnewVNode._dom = diffElementNodes(\n\t\t\toldVNode._dom,\n\t\t\tnewVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\tisHydrating,\n\t\t\trefQueue\n\t\t);\n\t}\n\n\tif ((tmp = options.diffed)) tmp(newVNode);\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root, refQueue) {\n\tfor (let i = 0; i < refQueue.length; i++) {\n\t\tapplyRef(refQueue[i], refQueue[++i], refQueue[++i]);\n\t}\n\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @param {Array<any>} refQueue an array of elements needed to invoke refs\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating,\n\trefQueue\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tisArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating,\n\t\t\t\trefQueue\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t\tvnode._component = undefined;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type !== 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n", "import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = ((!isHydrating && replaceNode) || parentDom)._children =\n\t\tcreateElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [],\n\t\trefQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating,\n\t\trefQueue\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode, refQueue);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n", "import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\n\tlet defaultProps;\n\n\tif (vnode.type && vnode.type.defaultProps) {\n\t\tdefaultProps = vnode.type.defaultProps;\n\t}\n\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse if (props[i] === undefined && defaultProps !== undefined) {\n\t\t\tnormalizedProps[i] = defaultProps[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n", "/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n", "/**\n * Check if an object is a DOM element. Duck-typing based on `nodeType`.\n *\n * @param {*} obj\n */\nexport default function isDOMElement(obj) {\n  return (obj == null ? void 0 : obj.nodeType) === Node.ELEMENT_NODE;\n}", "import isDOMElement from './isDOMElement.js';\n\n/**\n * Find a DOM element.\n *\n * @param {Node|string} element\n * @returns {Node|null}\n */\nexport default function findDOMElement(element, context) {\n  if (context === void 0) {\n    context = document;\n  }\n  if (typeof element === 'string') {\n    return context.querySelector(element);\n  }\n  if (isDOMElement(element)) {\n    return element;\n  }\n  return null;\n}", "/**\n * Get the declared text direction for an element.\n *\n * @param {Node} element\n * @returns {string|undefined}\n */\n\nfunction getTextDirection(element) {\n  var _element;\n  // There is another way to determine text direction using getComputedStyle(), as done here:\n  // https://github.com/pencil-js/text-direction/blob/2a235ce95089b3185acec3b51313cbba921b3811/text-direction.js\n  //\n  // We do not use that approach because we are interested specifically in the _declared_ text direction.\n  // If no text direction is declared, we have to provide our own explicit text direction so our\n  // bidirectional CSS style sheets work.\n  while (element && !element.dir) {\n    // eslint-disable-next-line no-param-reassign\n    element = element.parentNode;\n  }\n  return (_element = element) == null ? void 0 : _element.dir;\n}\nexport default getTextDirection;", "function _classPrivateFieldLooseBase(receiver, privateKey) { if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) { throw new TypeError(\"attempted to use private field on non-instance\"); } return receiver; }\nvar id = 0;\nfunction _classPrivateFieldLooseKey(name) { return \"__private_\" + id++ + \"_\" + name; }\nimport { render } from 'preact';\nimport findDOMElement from '@uppy/utils/lib/findDOMElement';\nimport getTextDirection from '@uppy/utils/lib/getTextDirection';\nimport BasePlugin from './BasePlugin.js';\n\n/**\n * Defer a frequent call to the microtask queue.\n *\n * @param {() => T} fn\n * @returns {Promise<T>}\n */\nfunction debounce(fn) {\n  let calling = null;\n  let latestArgs = null;\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    latestArgs = args;\n    if (!calling) {\n      calling = Promise.resolve().then(() => {\n        calling = null;\n        // At this point `args` may be different from the most\n        // recent state, if multiple calls happened since this task\n        // was queued. So we use the `latestArgs`, which definitely\n        // is the most recent call.\n        return fn(...latestArgs);\n      });\n    }\n    return calling;\n  };\n}\n\n/**\n * UIPlugin is the extended version of BasePlugin to incorporate rendering with Preact.\n * Use this for plugins that need a user interface.\n *\n * For plugins without an user interface, see BasePlugin.\n */\nvar _updateUI = /*#__PURE__*/_classPrivateFieldLooseKey(\"updateUI\");\nclass UIPlugin extends BasePlugin {\n  constructor() {\n    super(...arguments);\n    Object.defineProperty(this, _updateUI, {\n      writable: true,\n      value: void 0\n    });\n  }\n  getTargetPlugin(target) {\n    let targetPlugin;\n    if (typeof target === 'object' && target instanceof UIPlugin) {\n      // Targeting a plugin *instance*\n      targetPlugin = target;\n    } else if (typeof target === 'function') {\n      // Targeting a plugin type\n      const Target = target;\n      // Find the target plugin instance.\n      this.uppy.iteratePlugins(p => {\n        if (p instanceof Target) {\n          targetPlugin = p;\n        }\n      });\n    }\n    return targetPlugin;\n  }\n\n  /**\n   * Check if supplied `target` is a DOM element or an `object`.\n   * If itâ€™s an object â€” target is a plugin, and we search `plugins`\n   * for a plugin with same name and return its target.\n   */\n  mount(target, plugin) {\n    const callerPluginName = plugin.id;\n    const targetElement = findDOMElement(target);\n    if (targetElement) {\n      this.isTargetDOMEl = true;\n      // When target is <body> with a single <div> element,\n      // Preact thinks itâ€™s the Uppy root element in there when doing a diff,\n      // and destroys it. So we are creating a fragment (could be empty div)\n      const uppyRootElement = document.createElement('div');\n      uppyRootElement.classList.add('uppy-Root');\n\n      // API for plugins that require a synchronous rerender.\n      _classPrivateFieldLooseBase(this, _updateUI)[_updateUI] = debounce(state => {\n        // plugin could be removed, but this.rerender is debounced below,\n        // so it could still be called even after uppy.removePlugin or uppy.close\n        // hence the check\n        if (!this.uppy.getPlugin(this.id)) return;\n        render(this.render(state), uppyRootElement);\n        this.afterUpdate();\n      });\n      this.uppy.log(`Installing ${callerPluginName} to a DOM element '${target}'`);\n      if (this.opts.replaceTargetContent) {\n        // Doing render(h(null), targetElement), which should have been\n        // a better way, since because the component might need to do additional cleanup when it is removed,\n        // stopped working â€” Preact just adds null into target, not replacing\n        targetElement.innerHTML = '';\n      }\n      render(this.render(this.uppy.getState()), uppyRootElement);\n      this.el = uppyRootElement;\n      targetElement.appendChild(uppyRootElement);\n\n      // Set the text direction if the page has not defined one.\n      uppyRootElement.dir = this.opts.direction || getTextDirection(uppyRootElement) || 'ltr';\n      this.onMount();\n      return this.el;\n    }\n    const targetPlugin = this.getTargetPlugin(target);\n    if (targetPlugin) {\n      this.uppy.log(`Installing ${callerPluginName} to ${targetPlugin.id}`);\n      this.parent = targetPlugin;\n      this.el = targetPlugin.addTarget(plugin);\n      this.onMount();\n      return this.el;\n    }\n    this.uppy.log(`Not installing ${callerPluginName}`);\n    let message = `Invalid target option given to ${callerPluginName}.`;\n    if (typeof target === 'function') {\n      message += ' The given target is not a Plugin class. ' + 'Please check that you\\'re not specifying a React Component instead of a plugin. ' + 'If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: ' + 'run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.';\n    } else {\n      message += 'If you meant to target an HTML element, please make sure that the element exists. ' + 'Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. ' + '(see https://github.com/transloadit/uppy/issues/1042)\\n\\n' + 'If you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.';\n    }\n    throw new Error(message);\n  }\n  update(state) {\n    if (this.el != null) {\n      var _classPrivateFieldLoo, _classPrivateFieldLoo2;\n      (_classPrivateFieldLoo = (_classPrivateFieldLoo2 = _classPrivateFieldLooseBase(this, _updateUI))[_updateUI]) == null ? void 0 : _classPrivateFieldLoo.call(_classPrivateFieldLoo2, state);\n    }\n  }\n  unmount() {\n    if (this.isTargetDOMEl) {\n      var _this$el;\n      (_this$el = this.el) == null ? void 0 : _this$el.remove();\n    }\n    this.onUnmount();\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  onMount() {}\n\n  // eslint-disable-next-line class-methods-use-this\n  onUnmount() {}\n}\nexport default UIPlugin;"],
  "mappings": "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",
  "names": ["prettierBytes", "pattern", "id", "m", "f", "prettierBytes", "match", "_classPrivateFieldLooseBase", "id", "_classPrivateFieldLooseKey", "packageJson", "ee", "throttle", "defaultOptions", "totalProgress", "slice", "options", "vnodeId", "isValidElement", "rerenderQueue", "prevDebounce", "defer", "depthSort", "i", "EMPTY_OBJ", "EMPTY_ARR", "IS_NON_DIMENSIONAL", "isArray", "Array", "assign", "obj", "props", "removeNode", "node", "parentNode", "removeChild", "createElement", "type", "children", "key", "ref", "normalizedProps", "arguments", "length", "call", "defaultProps", "createVNode", "original", "vnode", "__k", "__", "__b", "__e", "__d", "__c", "__h", "constructor", "__v", "createRef", "current", "Fragment", "Component", "context", "this", "getDomSibling", "childIndex", "indexOf", "sibling", "updateParentDomPointers", "child", "base", "enqueueRender", "c", "push", "process", "__r", "debounceRendering", "renderQueueLength", "component", "commitQueue", "refQueue", "oldVNode", "oldDom", "parentDom", "sort", "shift", "__P", "diff", "__n", "ownerSVGElement", "commitRoot", "diffChildren", "renderResult", "newParentVNode", "oldParentVNode", "globalContext", "isSvg", "excessDomChildren", "isHydrating", "j", "childVNode", "newDom", "firstChildDom", "skewedIndex", "matchingIndex", "isMounting", "skew", "oldChildren", "oldChildrenLength", "remainingOldChildren", "newChildrenLength", "findMatchingIndex", "applyRef", "nextSibling", "placeChild", "reorderChildren", "unmount", "tmp", "toChildArray", "out", "some", "insertBefore", "x", "y", "diffProps", "dom", "newProps", "oldProps", "hydrate", "setProperty", "setStyle", "style", "value", "test", "name", "oldValue", "useCapture", "o", "cssText", "replace", "toLowerCase", "l", "addEventListener", "eventProxyCapture", "eventProxy", "removeEventListener", "e", "removeAttribute", "setAttribute", "event", "newVNode", "isNew", "oldState", "snapshot", "clearProcessingException", "provider", "componentContext", "renderHook", "count", "newType", "outer", "contextType", "__E", "prototype", "render", "doRender", "sub", "state", "_sb", "__s", "getDerivedStateFromProps", "componentWillMount", "componentDidMount", "componentWillReceiveProps", "shouldComponentUpdate", "forEach", "componentWillUpdate", "componentDidUpdate", "getChildContext", "getSnapshotBeforeUpdate", "diffElementNodes", "diffed", "root", "cb", "oldHtml", "newHtml", "nodeType", "localName", "document", "createTextNode", "createElementNS", "is", "data", "childNodes", "dangerouslySetInnerHTML", "attributes", "__html", "innerHTML", "checked", "parentVNode", "skipRemove", "r", "componentWillUnmount", "replaceNode", "firstChild", "cloneElement", "vnode", "props", "children", "key", "ref", "i", "defaultProps", "normalizedProps", "assign", "type", "arguments", "length", "slice", "call", "createVNode", "slice", "EMPTY_ARR", "options", "__e", "error", "vnode", "oldVNode", "errorInfo", "component", "ctor", "handled", "__", "__c", "constructor", "getDerivedStateFromError", "setState", "__d", "componentDidCatch", "__E", "e", "vnodeId", "isValidElement", "Component", "prototype", "update", "callback", "s", "this", "__s", "state", "assign", "props", "__v", "_sb", "push", "enqueueRender", "forceUpdate", "render", "Fragment", "rerenderQueue", "defer", "Promise", "then", "bind", "resolve", "setTimeout", "depthSort", "a", "b", "__b", "process", "__r", "i", "_classPrivateFieldLooseBase", "id", "_classPrivateFieldLooseKey", "p"]
}
